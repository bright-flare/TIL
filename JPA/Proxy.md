## Proxy

> JPA 핵심적인 기능중 하나인 지연로딩을 지원하기위해 존재하는 필수적인 개념인 Proxy에 대해서 알아본다.

> JPA 표준 Spec에서 지원하는 것이 아닌 JPA를 구현하는 구현체들이 갖는 특별한 개념이다.

### Proxy 특징
- 프록시 객체는 처음 사용할 때 한 번만 초기화 한다.
- 실제 Class를 상속 받아서 만들어진다.
    - 그래서 Type을 체크할 때, 주의해야 한다. `==` 연산자 비교대신 `instance of`를 사용해야 한다.
    - 프록시 객체와 Entity객체는 `==` 연산자로 비교하면 `false`이다. (같은 Type이 아니니까.)
- 실제 Class와 겉 모양이 같다.
- 이론상 진짜 객체인지 프록시 객체인지 구분하지 않고 사용할 수 있다.
- 프록시 객체는 실제 객체의 참조(target)를 보관한다. 이로인해 프록시 객체를 통해 실제 Entity에 접근할 수 있다.
- 프록시 객체를 호출하면 프록시 객체는 `실제 객체의 method`를 호출한다.
- 영속성 컨텍스트에서 찾는 Entity가 이미 있으면 `EntityManager.getReference()` mehtod를 호출해도 **프록시 객체를 반환하는게 아닌** 실제 Entity를 반환한다.
    1. 이미 영속성 컨텍스트에 Entity가 있다면 굳이 프록시 객체를 반환해도 큰 이점이 없다.
    2. J
- 영속성 컨텍스트의 도움을 받을 수 없는 준영속(detached) 상태일 때, 프록시를 초기화 하면 예외가 발생한다.

### Proxy 객체 초기화
