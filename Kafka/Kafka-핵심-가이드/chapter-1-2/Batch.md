
> Batch란 ?

- 카프카는 효율성을 위해 message를 batch 단위로 저장한다.
- batch는 같은 토픽의 파티션에 쓰여지는 메세지들의 집합이다.

![[batch와 message.png]]


> batch를 사용하는 이유 ?

- 메세지의 수가 매우 많을 경우 메세지를 쓸 때마다 네트워크상에서 신호가 오가는 것은 막대한 오버헤드를 발생시킨다. 그래서 메세지를 batch단위로 모아서 한번에 쓰면 이것을 줄일 수 있다.
- 하지만 batch 크기가 커질수록 시간당 처리되는 메세지의 수는 늘어나지만, batch 크기가 크면 메세지가 전달되는데에 걸리는 시간이 늘어난다.
