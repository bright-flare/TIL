
> 카프카 입장에서 메세지는 단순한 바이트 배열일 뿐이지만 내용을 이해하기 쉽도록 일정한 구조 혹은 스키마를 부여하는 것이 권장된다. 


스키마 종류
- JSON
- XML
- Apache Avro 👍 (많은 kafka 개발자들이 선호)

JSON, XML 방식은 타입처리 기능이나 스키마 버전간의 호환성 유지 기능이 떨어진다.
반면, Avro는 3가지 장점이 있다.
1. 조밀한 직렬화 형식을 제공
2. 메세지 본체와 스키마를 분리하여 관리하기 때문에 스키마가 변경되더라도 코드를 생성할 필요가 없다.
3. 강력한 데이터 typing과 스키마 변경에 따른 상위호환성, 하위호환성을 지원한다.

카프카에서는 **일관적인 데이터** 형식이 중요하다.
메세지 쓰기와 읽기 작업을 분리할 수 있도록 해주기 때문이다.

만약 읽기와 쓰기 작업이 결합되어 있다면 ?
- 메세지를 발행하는 Application이 구버전, 신버전 형식을 모두 사용할 수 있도록 지원해야 한다.

스키마를 사용
- 잘 정의된 스키마를 공유 저장소에 저장함으로써 카프카는 구, 신 두 버전 형식을 동시에 지원하도록 하는 작업 없이도 메세지를 처리할 수 있다.
